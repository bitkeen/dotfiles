#!/bin/sh
# Set wallpaper, center the file on the background.
if [ -z "${1}" ]; then
    echo 'Missing image path'
    exit 1
fi

image_path="$(readlink --canonicalize "${1}")"
hsetroot -solid '#330000' -center "${image_path}" \
    && printf "#!/bin/sh\nhsetroot -solid '#330000' -center %s" "${image_path}" > ~/.wallpaper \
    && chmod +x ~/.wallpaper
